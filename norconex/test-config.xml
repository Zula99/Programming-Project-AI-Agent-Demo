<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xml>
<httpcollector id="Test Elasticsearch Integration">
    <workDir>./test-output</workDir>
    
    <crawlers>
        <crawler id="nab-mirror">
            <!-- Simple test: crawl just one page -->
            <startURLs stayOnDomain="false" stayOnPort="false" stayOnProtocol="false">
                <url>https://www.nab.com.au</url>
            </startURLs>
            
          
            <maxDepth>2</maxDepth>
            <maxDocuments>50</maxDocuments>
            
            <!-- Keep downloads for mirroring -->
            <keepDownloads>true</keepDownloads>

            <!-- Disable canonical link detection that's rejecting content -->
            <canonicalLinkDetector ignore="true" />

            <!-- Send crawled data to your local Elasticsearch -->
            <committers>
                <committer class="com.norconex.committer.elasticsearch.ElasticsearchCommitter">
                    <nodes>http://localhost:9200</nodes>
                    <indexName>norconex_test</indexName>
                </committer>
            </committers>
        </crawler>
    </crawlers>
</httpcollector>